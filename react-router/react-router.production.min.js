/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{invariant as e,resolveTo as t,getToPathname as n,joinPaths as r,matchPath as a,parsePath as o,matchRoutes as i,createMemoryRouter as l,createMemoryHistory as s,Action as u,normalizePathname as c,stripBasename as h}from"@remix-run/router";export{Action as NavigationType,createPath,generatePath,matchPath,matchRoutes,parsePath,resolvePath}from"@remix-run/router";import{createContext as d,useContext as p,useMemo as m,useRef as f,useEffect as v,useCallback as g,createElement as y,Fragment as b,Component as _,useState as E,useLayoutEffect as x,Children as R,isValidElement as U}from"react";const k=d(null),D=d(null),N=d(null),S=d(null),P=d({outlet:null,matches:[]}),z=d(null);function A(t){w()||e(!1);let{basename:a,navigator:o}=p(N),{hash:i,pathname:l,search:s}=H(t),u=l;if("/"!==a){let e=n(t),o=null!=e&&e.endsWith("/");u="/"===l?a+(o?"/":""):r([a,l])}return o.createHref({pathname:u,search:s,hash:i})}function w(){return null!=p(S)}function C(){return w()||e(!1),p(S).location}function F(){return p(S).navigationType}function L(t){w()||e(!1);let{pathname:n}=C();return m((()=>a(t,n)),[n,t])}function O(){w()||e(!1);let{basename:n,navigator:a}=p(N),{matches:o}=p(P),{pathname:i}=C(),l=JSON.stringify(o.map((e=>e.pathnameBase))),s=f(!1);return v((()=>{s.current=!0})),g(((e,o={})=>{if(!s.current)return;if("number"==typeof e)return void a.go(e);let u=t(e,JSON.parse(l),i);"/"!==n&&(u.pathname=r([n,u.pathname])),(o.replace?a.replace:a.push)(u,o.state)}),[n,a,l,i])}const T=d(null);function B(){return p(T)}function j(e){let t=p(P).outlet;return t?y(T.Provider,{value:e},t):t}function I(){let{matches:e}=p(P),t=e[e.length-1];return t?t.params:{}}function H(e){let{matches:n}=p(P),{pathname:r}=C(),a=JSON.stringify(n.map((e=>e.pathnameBase)));return m((()=>t(e,JSON.parse(a),r)),[e,a,r])}function J(t,n){w()||e(!1);let a,l=p(D),{matches:s}=p(P),u=s[s.length-1],c=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/"),d=(u&&u.route,C());if(n){let t="string"==typeof n?o(n):n;"/"===h||t.pathname?.startsWith(h)||e(!1),a=t}else a=d;let m=a.pathname||"/",f="/"===h?m:m.slice(h.length)||"/",v=i(t,{pathname:f});return X(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:r([h,e.pathname]),pathnameBase:"/"===e.pathnameBase?h:r([h,e.pathnameBase])}))),s,l)}function M(){let e=ee(),t="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:t},r={padding:"2px 4px",backgroundColor:t};return y(b,null,y("h2",null,"Unhandled Thrown Error!"),y("p",{style:{fontStyle:"italic"}},e?.message||e),e?.stack?y("pre",{style:n},e?.stack):null,y("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),y("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",y("code",{style:r},"errorElement")," props onÂ ",y("code",{style:r},"<Route>")))}class W extends _{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?y(z.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function X(t,n=[],r){if(null==t)return null;let a=t,o=r?.errors;if(null!=o){let t=a.findIndex((e=>e.route.id&&o?.[e.route.id]));t>=0||e(!1),a=a.slice(0,Math.min(a.length,t+1))}return a.reduceRight(((e,t,i)=>{let l=t.route.id?o?.[t.route.id]:null,s=r?t.route.errorElement||y(M,null):null,u=()=>y(P.Provider,{children:l?s:void 0!==t.route.element?t.route.element:e,value:{outlet:e,matches:n.concat(a.slice(0,i+1))}});return r&&(t.route.errorElement||0===i)?y(W,{location:r.location,component:s,error:l,children:u()}):u()}),null)}var Y;function q(t){let n=p(D);return n||e(!1),n}function G(){return q(Y.UseNavigation).transition}function K(){let t=p(k);t||e(!1);let n=q(Y.UseRevalidator);return{revalidate:t.revalidate,state:n.revalidation}}function Q(){let{matches:e,loaderData:t}=q(Y.UseMatches);return m((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id]}}))),[e,t])}function V(){let t=q(Y.UseLoaderData),n=p(P);n||e(!1);let r=n.matches[n.matches.length-1];return r.route.id||e(!1),t.loaderData?.[r.route.id]}function Z(e){return q(Y.UseRouteLoaderData).loaderData?.[e]}function $(){let t=q(Y.UseRouteError);return p(P)||e(!1),Object.values(t?.actionData||{})[0]}function ee(){let t=p(z),n=q(Y.UseRouteError),r=p(P),a=r.matches[r.matches.length-1];return t||(r||e(!1),a.route.id||e(!1),n.errors?.[a.route.id])}function te({children:e,fallbackElement:t,todo_bikeshed_routes:n,createRouter:r}){let a=n||he(e),[o]=E((()=>r(a))),[i,l]=E((()=>o.state));v((()=>{let e=o.subscribe((e=>l(e)));return!i.initialized&&o.state.initialized&&l(o.state),()=>{e(),o.cleanup()}}),[o,i.initialized]);let s=m((()=>({createHref:o.createHref,go:e=>o.navigate(e),push:(e,t)=>o.navigate(e,{state:t}),replace:(e,t)=>o.navigate(e,{replace:!0,state:t})})),[o]);return i.initialized?y(k.Provider,{value:o},y(D.Provider,{value:i},y(se,{location:i.location,navigationType:i.historyAction,navigator:s},n?y(ce,{routes:a}):y(ue,{children:e})))):t||y(ne,null)}function ne(){return y(b,null,y("style",null,"\n        :root {\n          --size: 25vh;\n        }\n\n        .rr-fallback__flex {\n          text-align: center;\n          width: 100%;\n          height: 100vh;\n          display: flex;\n          align-items: center;\n          justify-content: center;  \n        }\n\n        .rr-fallback__rotate {\n          display: block;\n          width: var(--size);\n          height: var(--size);\n          font-size: var(--size);\n          animation-name: spin;\n          animation-duration: 1s;\n          animation-timing-function: ease-in-out;\n          animation-iteration-count: infinite;\n          transform: rotate(0deg);\n          transform-origin: 50% 50%;\n        }\n\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        @media (prefers-reduced-motion) {\n          .rr-fallback__rotate {\n            animation-iteration-count: 0;\n          }\n        }\n\n        .rr-fallback__cd {\n          width: var(--size);\n          height: var(--size);\n          line-height: var(--size);\n          margin-top: 5%;\n        }\n      "),y("div",{className:"rr-fallback__flex"},y("div",{className:"rr-fallback__rotate"},y("p",{className:"rr-fallback__cd"},"ðŸ’¿"))))}function re({children:e,initialEntries:t,initialIndex:n,hydrationData:r,fallbackElement:a,todo_bikeshed_routes:o}){return te({children:e,fallbackElement:a,todo_bikeshed_routes:o,createRouter:e=>l({initialEntries:t,initialIndex:n,routes:e,hydrationData:r})})}function ae({basename:e,children:t,initialEntries:n,initialIndex:r}){let a=f();null==a.current&&(a.current=s({initialEntries:n,initialIndex:r,v5Compat:!0}));let o=a.current,[i,l]=E({action:o.action,location:o.location});return x((()=>o.listen(l)),[o]),y(se,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o})}function oe({to:t,replace:n,state:r}){w()||e(!1);let a=O();return v((()=>{a(t,{replace:n,state:r})})),null}function ie(e){return j(e.context)}function le(t){e(!1)}function se({basename:t="/",children:n=null,location:r,navigationType:a=u.Pop,navigator:i,static:l=!1}){w()&&e(!1);let s=c(t),d=m((()=>({basename:s,navigator:i,static:l})),[s,i,l]);"string"==typeof r&&(r=o(r));let{pathname:p="/",search:f="",hash:v="",state:g=null,key:b="default"}=r,_=m((()=>{let e=h(p,s);return null==e?null:{pathname:e,search:f,hash:v,state:g,key:b}}),[s,p,f,v,g,b]);return null==_?null:y(N.Provider,{value:d},y(S.Provider,{children:n,value:{location:_,navigationType:a}}))}function ue({children:e,location:t}){return J(he(e),t)}function ce({routes:e}){return J(e)}function he(t,n=[]){let r=[];return R.forEach(t,((t,a)=>{if(!U(t))return;if(t.type===b)return void r.push.apply(r,he(t.props.children,n));t.type!==le&&e(!1);let o=[...n,a],i={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate};t.props.children&&(i.children=he(t.props.children,o)),r.push(i)})),r}function de(e,t){return X(e,void 0,t)}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Y||(Y={}));export{re as DataMemoryRouter,ae as MemoryRouter,oe as Navigate,ie as Outlet,le as Route,se as Router,ue as Routes,k as UNSAFE_DataRouterContext,D as UNSAFE_DataRouterStateContext,S as UNSAFE_LocationContext,N as UNSAFE_NavigationContext,P as UNSAFE_RouteContext,te as UNSAFE_useRenderDataRouter,he as createRoutesFromChildren,de as renderMatches,$ as useActionData,A as useHref,w as useInRouterContext,V as useLoaderData,C as useLocation,L as useMatch,Q as useMatches,O as useNavigate,G as useNavigation,F as useNavigationType,j as useOutlet,B as useOutletContext,I as useParams,H as useResolvedPath,K as useRevalidator,ee as useRouteError,Z as useRouteLoaderData,J as useRoutes};
//# sourceMappingURL=react-router.production.min.js.map

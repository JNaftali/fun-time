/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{useRef as e,useState as t,useLayoutEffect as n,createElement as r,forwardRef as a,useCallback as o,useEffect as i,useMemo as c,useContext as u}from"react";import{UNSAFE_useRenderDataRouter as l,Router as s,useHref as f,createPath as m,useLocation as h,useResolvedPath as d,useNavigate as p,UNSAFE_DataRouterContext as g,UNSAFE_RouteContext as y,UNSAFE_DataRouterStateContext as b}from"react-router";export{DataMemoryRouter,MemoryRouter,Navigate,NavigationType,Outlet,Route,Router,Routes,UNSAFE_DataRouterContext,UNSAFE_DataRouterStateContext,UNSAFE_LocationContext,UNSAFE_NavigationContext,UNSAFE_RouteContext,UNSAFE_useRenderDataRouter,createPath,createRoutesFromChildren,generatePath,matchPath,matchRoutes,parsePath,renderMatches,resolvePath,useActionData,useHref,useInRouterContext,useLoaderData,useLocation,useMatch,useMatches,useNavigate,useNavigation,useNavigationType,useOutlet,useOutletContext,useParams,useResolvedPath,useRevalidator,useRouteError,useRouteLoaderData,useRoutes}from"react-router";import{createBrowserRouter as w,createHashRouter as v,createBrowserHistory as A,createHashHistory as R,invariant as C}from"@remix-run/router";const E="application/x-www-form-urlencoded";function D(e){return null!=e&&"string"==typeof e.tagName}function N(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}function L(e,t,n){let r,a,o,i;if(D(c=e)&&"form"===c.tagName.toLowerCase()){let c=n.submissionTrigger;r=n.method||e.getAttribute("method")||"get",a=n.action||e.getAttribute("action")||t,o=n.encType||e.getAttribute("enctype")||E,i=new FormData(e),c&&c.name&&i.append(c.name,c.value)}else if(function(e){return D(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return D(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let c=e.form;if(null==c)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||c.getAttribute("method")||"get",a=n.action||e.getAttribute("formaction")||c.getAttribute("action")||t,o=n.encType||e.getAttribute("formenctype")||c.getAttribute("enctype")||E,i=new FormData(c),e.name&&i.set(e.name,e.value)}else{if(D(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||"get",a=n.action||t,o=n.encType||E,e instanceof FormData)i=e;else if(i=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)i.append(t,n);else if(null!=e)for(let t of Object.keys(e))i.append(t,e[t])}var c;let{protocol:u,host:l}=window.location,s=new URL(a,`${u}//${l}`);if("get"===r.toLowerCase())for(let[f,m]of i){if("string"!=typeof m)throw new Error("Cannot submit binary form data using GET");s.searchParams.append(f,m)}return{url:s,method:r,encType:o,formData:i}}function T({children:e,fallbackElement:t,hydrationData:n,window:r}){return l({children:e,fallbackElement:t,createRouter:e=>w({routes:e,hydrationData:n,window:r})})}function F({children:e,hydrationData:t,fallbackElement:n,window:r}){return l({children:e,fallbackElement:n,createRouter:e=>v({routes:e,hydrationData:t,window:r})})}function x({basename:a,children:o,window:i}){let c=e();null==c.current&&(c.current=A({window:i,v5Compat:!0}));let u=c.current,[l,f]=t({action:u.action,location:u.location});return n((()=>u.listen(f)),[u]),r(s,{basename:a,children:o,location:l.location,navigationType:l.action,navigator:u})}function S({basename:a,children:o,window:i}){let c=e();null==c.current&&(c.current=R({window:i,v5Compat:!0}));let u=c.current,[l,f]=t({action:u.action,location:u.location});return n((()=>u.listen(f)),[u]),r(s,{basename:a,children:o,location:l.location,navigationType:l.action,navigator:u})}function P({basename:e,children:a,history:o}){const[i,c]=t({action:o.action,location:o.location});return n((()=>o.listen(c)),[o]),r(s,{basename:e,children:a,location:i.location,navigationType:i.action,navigator:o})}const k=a((function({onClick:e,reloadDocument:t,replace:n=!1,state:a,target:o,to:i,...c},u){let l=f(i),s=_(i,{replace:n,state:a,target:o});return r("a",Object.assign({},c,{href:l,onClick:function(n){e&&e(n),n.defaultPrevented||t||s(n)},ref:u,target:o}))})),O=a((function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:i,children:c,...u},l){let s=h(),f=d(i),m=s.pathname,p=f.pathname;t||(m=m.toLowerCase(),p=p.toLowerCase());let g,y=m===p||!a&&m.startsWith(p)&&"/"===m.charAt(p.length),b=y?e:void 0;g="function"==typeof n?n({isActive:y}):[n,y?"active":null].filter(Boolean).join(" ");let w="function"==typeof o?o({isActive:y}):o;return r(k,Object.assign({},u,{"aria-current":b,className:g,ref:l,style:w,to:i}),"function"==typeof c?c({isActive:y}):c)})),U=a(((e,t)=>r(j,Object.assign({},e,{ref:t})))),j=a((({replace:t=!1,method:n="get",action:a=".",encType:c=E,onSubmit:u,fetcherKey:l,...s},f)=>{let m=H(l),h="get"===n.toLowerCase()?"get":"post",d=$(a),p=e(),g=function(...e){return o((t=>{for(let r of e)if(null!=r)if("function"==typeof r)r(t);else try{r.current=t}catch(n){}}),e)}(f,p),y=e();i((()=>{let e=p.current;if(e)return window.addEventListener("click",t),()=>{window.removeEventListener("click",t)};function t(t){if(!(t.target instanceof Element))return;let n=t.target.closest("button,input[type=submit]");n&&n.form===e&&"submit"===n.type&&(y.current=n)}}),[]);return r("form",Object.assign({ref:g,method:h,action:d,encType:c,onSubmit:e=>{u&&u(e),e.defaultPrevented||(e.preventDefault(),m(y.current||e.currentTarget,{method:n,replace:t}),y.current=null)}},s))}));function _(e,{target:t,replace:n,state:r}={}){let a=p(),i=h(),c=d(e);return o((o=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(o,t)){o.preventDefault();let t=!!n||m(i)===m(c);a(e,{replace:t,state:r})}}),[i,a,c,n,r,t,e])}function K(t){let n=e(N(t)),r=h(),a=c((()=>function(e,t){let n=N(e);for(let r of t.keys())n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}));return n}(r.search,n.current)),[r.search]),i=p();return[a,o(((e,t)=>{i("?"+N(e),t)}),[i])]}function M(){return H()}function H(e){let t=u(g),n=$();return o(((r,a={})=>{if(null==t&&C(!1),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:o,encType:i,formData:c,url:u}=L(r,n,a),l=u.pathname+u.search,s={replace:a.replace,formData:c,formMethod:o,formEncType:i};e?t.fetch(e,l,s):t.navigate(l,s)}),[n,t,e])}function $(e="."){let t=u(y);t||C(!1);let[n]=t.matches.slice(-1),{pathname:r,search:a}=d(e);return"."===e&&n.route.index&&(a=a?a.replace(/^\?/,"?index&"):"?index"),r+a}let B=0;function G(){let e=u(g);e||C(!1);let[n]=t((()=>String(++B))),[o]=t((()=>function(e){return a(((t,n)=>r(j,Object.assign({},t,{ref:n,fetcherKey:e}))))}(n))),[l]=t((()=>t=>{e||C(!1),e.fetch(n,t)})),s=H(n),f=e.getFetcher(n),m=c((()=>({Form:o,submit:s,load:l,...f})),[f,o,s,l]);return i((()=>()=>{e?e.deleteFetcher(n):console.warn("No fetcher available to clean up from useFetcher()")}),[e,n]),m}function I(){let e=u(b);return e||C(!1),[...e.fetchers.values()]}export{x as BrowserRouter,T as DataBrowserRouter,F as DataHashRouter,U as Form,S as HashRouter,k as Link,O as NavLink,N as createSearchParams,P as unstable_HistoryRouter,G as useFetcher,I as useFetchers,$ as useFormAction,_ as useLinkClickHandler,K as useSearchParams,M as useSubmit};
//# sourceMappingURL=react-router-dom.production.min.js.map
